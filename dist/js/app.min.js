var App=function(){this.initRouting()};App.prototype.route=function(e){e||(e=removeSlash(window.location.pathname));var t;t="/"===e||""===e?"home":e,einzl.pages[t]&&einzl.pages[t].view.length>0?einzl.pages[t].start():(einzl.pages[t]=new Page(t),einzl.pages[t].createView().then(function(){einzl.pages[t].start()}))},App.prototype.getTemplate=function(e){return $.get("/templates/"+e+".hbs").then(function(e){return Handlebars.compile(e)})},App.prototype.initRouting=function(){var e=this,t=window.History;t.Adapter.bind(window,"statechange",function(){t.getState();e.route(null)})},$(document).ready(function(){window.einzl={pages:{}},einzl.app=new App,einzl.app.route("home")});var Page=function(e){this.name=e};Page.prototype.createView=function(){var e=this;return einzl.app.getTemplate("pages/"+this.name).then(function(t){var n=t();e.view=$(n)})},Page.prototype.start=function(){this.view.appendTo($("main"))};