function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function removeSlash(t){return t.replace(/^\/|\/$/g,"")}function goToByScroll(t){$("html,body").animate({scrollTop:t.offset().top-65},"slow")}function isLocalStorageNameSupported(){var t="test",e=window.sessionStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(n){return!1}}var App=function(){this.initRouting(),this.initNavigation()};App.prototype.initNavigation=function(){$(".hamburger-button").on("vclick",function(){$("header nav").toggleClass("open")}),$(".cart-button").on("vclick",function(){$("aside.cart-container").toggleClass("open")}),this.initAppRoutingLinks()},App.prototype.initAppRoutingLinks=function(){Modernizr.history&&($("a").off("vclick"),$("a").not('[target="_blank"]').on("vclick",function(t){t.preventDefault(),t.stopPropagation();var e=$(this).attr("href"),n=$(this).attr("title"),i=window.location.pathname;i!==e&&History.pushState("",n,e)}))},App.prototype.route=function(t){t||(t=removeSlash(window.location.pathname));var e;e="/"===t||""===t?"home":t,einzl.pages[e]&&einzl.pages[e].view.length>0?einzl.pages[e].start():(einzl.pages[e]=new Page(e),einzl.pages[e].createView().then(function(){einzl.pages[e].start()}))},App.prototype.getTemplate=function(t){return $.get("/templates/"+t+".hbs").then(function(t){return Handlebars.compile(t)})},App.prototype.initRouting=function(){var t=this,e=window.History;e.Adapter.bind(window,"statechange",function(){e.getState();t.route(null)})},$(document).ready(function(){window.einzl={pages:{}},einzl.app=new App,einzl.app.route(null),einzl.cart=new Cart});var Cart=function(){var t=this;this.getTemplate().then(function(){t.createView(),t.view.appendTo($(".cart"))})};Cart.prototype.getTemplate=function(){var t=this;return einzl.app.getTemplate("modules/cart").then(function(e){t.template=e})},Cart.prototype.createView=function(){var t=this.template();this.view=$(t)};var Page=function(t){this.name=t};Page.prototype.createView=function(){var t=this;return einzl.app.getTemplate("pages/"+this.name).then(function(e){var n=e();t.view=$(n)})},Page.prototype.start=function(){$("main").html(""),this.view.appendTo($("main"))};